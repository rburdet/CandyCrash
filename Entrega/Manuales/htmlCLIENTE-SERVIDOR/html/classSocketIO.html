<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>My Project: SocketIO Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">SocketIO Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="common_8socket__io_8h_source.html">common.socket_io.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SocketIO:</div>
<div class="dyncontent">
<div class="center"><img src="classSocketIO__inherit__graph.png" border="0" usemap="#SocketIO_inherit__map" alt="Inheritance graph"/></div>
<map name="SocketIO_inherit__map" id="SocketIO_inherit__map">
<area shape="rect" id="node5" href="classTCPSocketConnect.html" title="{TCPSocketConnect\n||+ TCPSocketConnect()\l+ ~TCPSocketConnect()\l+ connect()\l+ connect()\l+ connect()\l}" alt="" coords="5,403,171,539"/><area shape="rect" id="node2" href="classSocket.html" title="{Socket\n|# fd\l|+ Socket()\l+ ~Socket()\l+ shutdown()\l+ shutdown()\l# ip2struct()\l# ip2struct()\l# ip2struct()\l}" alt="" coords="39,5,137,171"/></map>
</div>
<div class="dynheader">
Collaboration diagram for SocketIO:</div>
<div class="dyncontent">
<div class="center"><img src="classSocketIO__coll__graph.png" border="0" usemap="#SocketIO_coll__map" alt="Collaboration graph"/></div>
<map name="SocketIO_coll__map" id="SocketIO_coll__map">
<area shape="rect" id="node2" href="classSocket.html" title="{Socket\n|# fd\l|+ Socket()\l+ ~Socket()\l+ shutdown()\l+ shutdown()\l# ip2struct()\l# ip2struct()\l# ip2struct()\l}" alt="" coords="8,5,107,171"/></map>
</div>

<p><a href="classSocketIO-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aea0123ab02d6722deafde6c7307c396c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSocketIO.html#aea0123ab02d6722deafde6c7307c396c">SocketIO</a> ()</td></tr>
<tr class="memitem:a6fab1f7899e781b7fea87fbdc6c0e353"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSocketIO.html#a6fab1f7899e781b7fea87fbdc6c0e353">SocketIO</a> (unsigned int <a class="el" href="classSocket.html#a25dd8cf38a7a8742858f5b3193deeb15">fd</a>)</td></tr>
<tr class="memitem:a9d8053af255f90c445f558841af53c4e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSocketIO.html#a9d8053af255f90c445f558841af53c4e">~SocketIO</a> ()</td></tr>
<tr class="memitem:aa9f50be5a8b12fbab93893de212b8a59"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSocketIO.html#aa9f50be5a8b12fbab93893de212b8a59">read</a> (Json::Value &amp;data, const std::string &amp;key, bool check=true)</td></tr>
<tr class="memitem:a29877c264b1d6c116d07e0a9f76c5373"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSocketIO.html#a29877c264b1d6c116d07e0a9f76c5373">write</a> (const Json::Value &amp;data, const std::string &amp;key)</td></tr>
<tr class="inherit_header pub_methods_classSocket"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classSocket')"><img src="closed.png" alt="-"/>&nbsp;Public Member Functions inherited from <a class="el" href="classSocket.html">Socket</a></td></tr>
<tr class="memitem:a7c3256c4fc6e2c603df73201049fae5a inherit pub_methods_classSocket"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSocket.html#a7c3256c4fc6e2c603df73201049fae5a">Socket</a> ()</td></tr>
<tr class="memitem:aeac4eb6379a543d38ed88977d3b6630a inherit pub_methods_classSocket"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSocket.html#aeac4eb6379a543d38ed88977d3b6630a">~Socket</a> ()</td></tr>
<tr class="memitem:a41a26876313a89591552648677320602 inherit pub_methods_classSocket"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSocket.html#a41a26876313a89591552648677320602">shutdown</a> ()</td></tr>
<tr class="memitem:a8ca1576b3de3ff4685101c833ad3418c inherit pub_methods_classSocket"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSocket.html#a8ca1576b3de3ff4685101c833ad3418c">shutdown</a> (int how)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classSocket"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classSocket')"><img src="closed.png" alt="-"/>&nbsp;Protected Member Functions inherited from <a class="el" href="classSocket.html">Socket</a></td></tr>
<tr class="memitem:a7b44c495bfeddf489649464e8d5445e1 inherit pro_methods_classSocket"><td class="memItemLeft" align="right" valign="top">struct sockaddr_in *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSocket.html#a7b44c495bfeddf489649464e8d5445e1">ip2struct</a> (const int port, const std::string &amp;ip)</td></tr>
<tr class="memitem:ae3fd77c7223c9489b3b170a02d5fd385 inherit pro_methods_classSocket"><td class="memItemLeft" align="right" valign="top">struct sockaddr_in *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSocket.html#ae3fd77c7223c9489b3b170a02d5fd385">ip2struct</a> (const std::string &amp;port, const std::string &amp;ip)</td></tr>
<tr class="memitem:a6cb5eb88e856b00e1adb3cce809634f8 inherit pro_methods_classSocket"><td class="memItemLeft" align="right" valign="top">struct sockaddr_in *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSocket.html#a6cb5eb88e856b00e1adb3cce809634f8">ip2struct</a> (const std::string &amp;ipport)</td></tr>
<tr class="inherit_header pro_attribs_classSocket"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classSocket')"><img src="closed.png" alt="-"/>&nbsp;Protected Attributes inherited from <a class="el" href="classSocket.html">Socket</a></td></tr>
<tr class="memitem:a25dd8cf38a7a8742858f5b3193deeb15 inherit pro_attribs_classSocket"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSocket.html#a25dd8cf38a7a8742858f5b3193deeb15">fd</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classSocket.html">Socket</a> de entrada y salida. Implementa metodos de escribir y leer con firma. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aea0123ab02d6722deafde6c7307c396c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SocketIO::SocketIO </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6fab1f7899e781b7fea87fbdc6c0e353"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SocketIO::SocketIO </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9d8053af255f90c445f558841af53c4e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SocketIO::~SocketIO </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aa9f50be5a8b12fbab93893de212b8a59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SocketIO::read </td>
          <td>(</td>
          <td class="paramtype">Json::Value &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>check</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>read: lee mensaje. Lee mensaje de socket. Primero lee prefijo de longitud, dependiendo de eso, lee el mensaje, y despues lee la firma, la validacion de la misma es opcional, pero siempre se la leera. El metodo se encarga de la transformacion de la data json entrante en objeto. En el caso de haber una firma invalida, se saldra con error, pero se devolvera por data el json recibido. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>informacion proveniente del socket. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>llave usada para la comprobacion de la firma. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">check</td><td>opcional, (true por defecto) si es verdadero se chequeara la firma. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>0 ok, -1 para cualqier error de lectura de socket, 1 para error de validacion de firma, 2 para problemas de parseo de json. </dd></dl>

</div>
</div>
<a class="anchor" id="a29877c264b1d6c116d07e0a9f76c5373"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SocketIO::write </td>
          <td>(</td>
          <td class="paramtype">const Json::Value &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>write: envia el mensaje. Agrega prefijo de longitud (en bytes) y firma del mensaje. El prefijo de longitud es un uint32_t que esta puesto con hton, despues viene el mensaje (en json) y por ultimo la firma del mensaje </p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="common_8hmac_8cpp.html#a39355c72ddcd5d166990e19c0c44591f">hmac_msje()</a>. El largo se refiere solo al largo del mensaje, no incluye el largo de la firma que siempre sera el mismo. El orden es &lt;prefijo_longitud&gt;&lt;mensaje&gt;&lt;firma&gt;. El metodo se encarga de serializar. </dd></dl>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>data a enviar </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>llave para la firma </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>codigo de error, 0 ok, resto error. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="common_8socket__io_8h_source.html">common.socket_io.h</a></li>
<li><a class="el" href="common_8socket__io_8cpp.html">common.socket_io.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.1
</small></address>
</body>
</html>
