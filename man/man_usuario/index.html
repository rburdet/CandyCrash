<!DOCTYPE HTML>
<html lang="es">

<head>
	<meta charset="utf-8">
	<title>Manual de Usuario</title>
	<link rel="stylesheet" href="estilos.css" />
</head>

<body>

<header>
<a href="Grupo 8" target="_blank"><img border="0" src="imagenes/fiuba.png"/></a>
<a href="Grupo 8" target="_blank" style="float:right;">Grupo 8</a>
</header>

<span id="version_producto">03/12/2013 18:00:00</span>

<div id="contenedor_general">

<span id="manual_tit">Manual de usuario</span>

<article>
<span class="titulo">Contenidos</span>
<ol>

<li><a href="#Instalación" class="indice_entrada">Instalación</a></li>

<li><a href="#Configuración" class="indice_entrada">Configuración</a></li>

<li><a href="#Forma_de_uso" class="indice_entrada">Forma de uso</a></li>

<li><a href="#Apéndice_de_errores" class="indice_entrada">Apéndice de errores</a></li>

</ol>
</article>

<article id="indice_">
<img id="indiceico" src="imagenes/indiceico.png" />
<div id="indice_margen"></div>
<span class="titulo">Contenidos</span>

	<div id="indice_scroll">
		<ol>
		
			<li><a href="#Instalación" class="indice_entrada">Instalación</a></li>

			<li><a href="#Configuración" class="indice_entrada">Configuración</a></li>

			<li><a href="#Forma_de_uso" class="indice_entrada">Forma de uso</a></li>

			<li><a href="#Apéndice_de_errores" class="indice_entrada">Apéndice de errores</a></li>


		<br>
		<br>
		<br>
		</ol>

	</div>

</article>

<!-- inicio contenido -->

<article id="Instalación">


<span class="titulo">1. Instalación</span>
<strong>Requerimientos</strong>
<p>
El programa tendria que  ser corrido en cualquier distribución de Linux sin problemas. Especialmente fue probado en:</p>
<ul>
	<li> Fedora 19 </li>
	<li> Ubuntu 13 </li>
	<li> Arch Linux </li>
	<li> Debian 7 </li> 
	<li> Peppermint </li> 
</ul>
Sin tener problema alguno en ninguno de ellos. 
</p>
<p>
Dependiendo de la distribución los paquetes necesarios para correr son:
Comunes a todas las distribuciones:</p>
<ul>
	<li><strong> JsonCPP >= 0.6.0 </strong></li>
	<li><strong> Gtkmm-3.0 >= 3.8 </strong></li>
	<li><strong> Gtkmm-2.4 >= 2.6 </strong></li>
	<li><strong> libasound2 >= 1.0 </strong></li>
</ul>
<div class="nota">
	<p>Aunque el paquete se llame 'Gtkmm 3.0', no quiere decir que es la versi&oacute;n '3.0' del paquete gtkmm, sino que el mismo paquete se llama 'gtkmm-3.0'. La despendencias son la versi&oacute;n '3.8' del mismo. Lo mismo para 'Gtkmm-2.4', se requiere la versi&oacute; '2.6' del mismo.</p>
</div>

<strong>Fedora / Red Hat / CentOS:</strong>
<ul> 
	<li> <strong> alsa-lib-devel </strong> Para reproducción de sonidos </li>
	<li> <strong> gtkmm30-devel.x86_64 </strong> Para compilar gtkmm en sistemas 64 bits</li> 
	<li> <strong> gtkmm30.x86_64 </strong> Para correr gtkmm en sistemas 64 bits</li>
	<li> <strong> gtkmm30-devel.i686 </strong>Para compilar gtkmm en sistemas 32 bits</li> 
	<li> <strong> gtkmm30.i686 </strong> Para correr gtkmm en sistemas 32 bits</li>
	<li> <strong> gtkmm24-devel.x86_64 </strong> Para correr gtkmm en sistemas 64 bits</li>
	<li> <strong> gtkmm24.x86_64 </strong> Para correr gtkmm en sistemas 64 bits</li>
	<li> <strong> gtkmm24-devel.i686 </strong>  Para compilar gtkmm en sistemas 32 bits</li>
	<li> <strong> gtkmm24.i686 </strong>  Para compilar gtkmm en sistemas 32 bits</li>
	<li> <strong> jsoncpp-devel.i686 </strong> Para compilar jsoncpp</li>
	<li> <strong> jsoncpp.i686 </strong> Para correr jsoncpp</li>
</ul>
<strong>Intalaci&oacute;n de las dependencias</strong>
<p> Para instalar las dependecias, se debe abrir una consola o terminal. Dependiendo del entorno gr&aacute;fico utilizado, esta se podr&aacute; abrir desde el me&uacute;, subsecci&oacute;n "Accesesorios", "Terminal". A continuaci&oacute;n se deber&aaute;n escribir los siguientes comandos:</p>
<pre>
<code>
$ sudo yum install alsa-lib-devel gtkmm30-devel.i686 gtkmm30.i686 jsoncpp-devel.i686 jsoncpp.i686
[sudo] password for xxxxxx:
</code>
</pre>
<p> Se supuso la arquitectura <i>i686</i>, de poseer un sistema operativo de 64 bits, utilizar los paquetes de gtkmm con la terminaci&oacute;n x86_64. Para mayor informaci&oacute;n acerca de como utilizar el comando yum ver la documentaci&oacute;n de fedora: <i><a href="http://docs.fedoraproject.org/es-ES/Fedora/14/html/Software_Management_Guide/ch05s05.html#id3183918">http://docs.fedoraproject.org/es-ES/Fedora/14/html/Software_Management_Guide/ch05s05.html#id3183918</a></i>.</p>
<p> Donde dice <i>xxxxxx</i> es el nombre de nuestro usuario. Ah&iacute; se solicitar&aacute; nuestra contrase&ntilde;a. Recordar que el usuario debe estar en el grupo <i>sudoers</i>, es decir, debe poder realizar tareas de administrador. De no poder ser asi, por favor, contactar con el administrador del sistema y pedirle que instale los paquetes aqui mencionados</p>

<strong>Ubuntu / Peppermint / Debian:</strong>
<ul> 
	<li> <strong> libasound2 </strong> Para reproducción de sonidos </li>
	<li> <strong> libasound2-dev </strong> Para compilar sonidos </li>
	<li> <strong> libgtkmm-3.0-1 </strong> Para correr gtkmm </li>
	<li> <strong> libgtkmm-3.0-dev </strong>Para compilar gtkmm</li>
	<li> <strong> libgtkmm-2.4-1c2a </strong> Para correr gtkmm </li>
	<li> <strong> libgtkmm-2.4-dev </strong>Para compilar gtkmm</li>
	<li> <strong> libjsoncpp0 </strong>Para correr jsoncpp</li> 
	<li> <strong> libjsoncpp-dev </strong>Para compilar jsoncpp</li>
</ul>

<strong>Intalaci&oacute;n de las dependencias</strong>
<p> Para instalar las dependecias, se debe abrir una consola o terminal. Dependiendo del entorno gr&aacute;fico utilizado, esta se podr&aacute; abrir desde el me&uacute;, subsecci&oacute;n "Accesesorios", "Terminal". A continuaci&oacute;n se deber&aaute;n escribir los siguientes comandos:</p>
<pre>
<code>
$ sudo apt-get install libasound2 libasound2-dev libgtkmm-3.0-1 libgtkmm-3.0-dev libgtkmm-2.4-1c2a libgtkmm-2.4-dev libjsoncpp0 libjsoncpp-dev
[sudo] password for xxxxxx:
</code>
</pre>
<p> Donde dice <i>xxxxxx</i> es el nombre de nuestro usuario. Ah&iacute; se solicitar&aacute; nuestra contrase&ntilde;a. Recordar que el usuario debe estar en el grupo <i>sudoers</i>, es decir, debe poder realizar tareas de administrador. De no poder ser asi, por favor, contactar con el administrador del sistema y pedirle que instale los paquetes aqui mencionados</p>
<div class="nota">
	<p>Para mayor informaci&oacute;n acerca de como usar el comando <i>'apt-get'</i> ver: <i><a href="https://help.ubuntu.com/community/AptGet/Howto">https://help.ubuntu.com/community/AptGet/Howto</a></i></p>
	<p>En sistemas Ubuntu o derivados es posible que se nececite agregar el ppa de <a href="https://launchpad.net/~gnome3-team/+archive/gnome3">GNOME 3 Team</a> para satisfacer las depedencias. Para m&aacute;s informaci&oacute;n acerca de como hacer esto, ver: <i><a href="https://launchpad.net/~gnome3-team/+archive/gnome3#ppa-install">https://launchpad.net/~gnome3-team/+archive/gnome3#ppa-install</a></i></p>
</div>

Arch Linux:
<ul> 
	<li> <strong> extra/alsa-lib </strong> Para reproducción de sonidos </li>
	<li> <strong> extra/gtkmm3 </strong> Gtkmm 3.0 </li>
	<li> <strong> extra/gtkmm </strong> Gtkmm 2.4 </li>
	<li> <strong> extra/jsoncpp </strong>Para correr jsoncpp</li> 
</ul>

<strong>Intalaci&oacute;n de las dependencias</strong>
<p> Para instalar las dependecias, se debe abrir una consola o terminal. Dependiendo del entorno gr&aacute;fico utilizado, esta se podr&aacute; abrir desde el me&uacute;, subsecci&oacute;n "Accesesorios", "Terminal". A continuaci&oacute;n se deber&aaute;n escribir los siguientes comandos:</p>
<pre>
<code>
$ sudo pacman -Sy extra/alsa-lib extra/gtkmm3 extra/gtkmm extra/gtkmm extra/jsoncpp
[sudo] password for xxxxxx:
</code>
</pre>
<p> Donde dice <i>xxxxxx</i> es el nombre de nuestro usuario. Ah&iacute; se solicitar&aacute; nuestra contrase&ntilde;a. Recordar que el usuario debe estar en el grupo <i>sudoers</i>, es decir, debe poder realizar tareas de administrador. De no poder ser asi, por favor, contactar con el administrador del sistema y pedirle que instale los paquetes aqui mencionados</p>

<strong> Instalación </strong>
<p> El paquete fue construido con las herraminetas <i>autotools de gnu</i>. Actualmente, no hay paquetes espec&iacute;ificos para cada distribuci&oacute;n, se debe realizar la instalaci&oacute;n manual desde consola. El paquete trae tanto el servidor, cliente y editor de mapas. Si uno lo &uacute;nico que desea hacer es conectarse a un servidor para jugar, ignore el servidor y editor.</p>
<p> Pasos a realizar:</p>
<ol>
	<li><strong>Abrir una consola o terminal</strong> si usted no sabe como realizar, lea la secci&oacute;n anterior, en la cual se explica como debe hacerlo.</li>
	<li><strong>Dirigirse a la carpeta donde tiene el paquete <i>tar</i> del juego</strong>, en el ejemplo se supone que es '/home/usuario/Downloads'</li>
	<li><strong>Descomprimir paquete</strong>, usted debe contar con el comando <i>tar</i>, se supone que el paquete se llama 'candycrash-1.0.tar.gz'</li>
	<li><strong>Configurar instalaci&oacute;n y controlar dependencias</strong>, por defecto la ruta de instalaci&oacute;n es '/usr/local/', se supone que se quiere instalar en '/usr/'</li>
	<li><strong>Compilar</strong></li>
	<li><strong>Instalar</strong></li>
</ol>
<strong>Ejemplo:</strong>
<pre>
<code>
$ cd /home/usuario/Downloads
$ tar xfv candycrash-1.0.tar.gz
$ cd candycrash-1.0
$ ./configure --prefix=/usr
$ make
$ sudo make install
</code>
</pre>
<div class="nota">
	<p>El comando <i>'./configure'</i> dar&aacute; mensajes de error de no contar con las depencias necesarias para la instaci&oacute;n.</p>
</div>
</article>


<article id="Configuración">


<span class="titulo">2. Configuración</span> 
<p>El juego guarda todos los archivos necesarios en <i>$PREFIX/share/candycrash/</i>, donde <i>$PREFIX</i> es el directorio de instalaci&oacute;n elegido.</p>
<p>El cliente no posee archivos de configuración. La única configuración posible es la elección de ip del servidor y puerto. Esto se configura atraves de la pantalla de login (La descripción de dicha pantalla se desarrolla posteriormente).</p>
<p>En lo que respecta al servidor, este utiliza un archivo con la informaci&oacute;n de los usuarios llamado <i>userdata.json</i>, este esta ubicado en la ruta dicha anteriormente. Es muy importante que el servidor se ejecute con un usuario que tenga permisos para escribir en esa carpeta y pueda editar el archivo. De lo contrario, el comportamiento del servidor ser&aacute; indeterminado.</p>
<p>Adem&aacute;s, habr&aacute; una subcarpeta llamada <i>Mapas</i> que contendr&aacute; toda la informaci&oacute; acerca de los mapas.</p>

</article>

<article id="Forma_de_uso">
<span class="titulo">3. Forma de uso</span>
<strong> Cliente </strong>
<p> Durante la instalaci&oacute;n se eligio la carpeta destino, para ejecutar el cliente, se debe ir hasta la carpeta donde se instal&oacute;, subcarpeta "bin",  y ejecutar el binario <i>'candycrash-cliente'</i>. Esto se puede realizar desde una terminal (utilizando el comando <i>cd</i> para ir cambiando de directorio), o desde el manejador de archivos de nuestra preferencia.</p>
<p> Al abrir el juego Ud se encontrara con la siguiente imagen: </p>
<img src="imagenes/conectate.jpg"/>
<p> Para jugar Ud debe tener tener una cuenta. Si ya esta registrado coloque el <b>ip:puerto</b> al que quiera conectarse en el casillero <b> Ip:Puerto </b>. </p>
<p>Por ejemplo 127.0.0.1:9000</p>
<p>Luego coloque su nombre de usuario y su contrasena en los campos  <b>Usuario</b>  y <b>Password</b> respectivamente.</p> 
<p> Luego presione <b> Conectar </b>  </p>
<br> 
<p> Si ud no tiene una cuenta, ingrese el nombre de usuario deseado y luego la contrasena que usara para conectarse cada vez que entre al juego en los campos <b> Usuario </b>  y <b> Password </b>  respectivamente, luego presione <b> Registrar </b>. </p> 

<br>
<p> Una vez pasada la ventana de conexion Ud se encontrara con la siguiente imagen: </p>
<img src="imagenes/pantallaprincipal.jpg"/>
<p>  Aquí Ud puede: 
<ol>
	<li> Empezar una nueva partida </li>
	<li> Unirse a una partida ya existente </li>
</ol>
<p> Procediendo de la siguiente manera : </p> 
<ol> 
	<li> En la pestaña <b> Crear Partida </b> presione actualizar. Esta accion listará todos los mapas disponibles con su respectivo nivel. Ud podrá elegir solo aquellos mapas que sean de un nivel igual o inferior al suyo. Una vez seleccionado, pulse <b> Crear Partida </b> . </li>
	<li>En la pestana <b> Partidas </b> presione <b>Actualizar</b>. Esta accion listara todas las partidas creadas, indicando cuan llena esta la partida, nivel y nombre del mapa a jugar. Seleccione una y presione <b>Conectar</b> Recuerde que Ud podra elegir solo aquellas partidas que sean deun nivel igual o inferior al suyo. A continuación una imagen de esta ventana </li>
</ol>
</p>

<img src="imagenes/unirse.jpg">

<br> 
<p> Una vez conectado a una partida Ud es redirigido a una sala con el siguiente formato : </p> 
<img src= "imagenes/juego.jpg"> 
<p> En esta instancia Ud ya esta conectado y esperando que empiece la partida. Aquí puede chatear con los demas jugadores conectado a esta misma partida, en ningún caso Ud podrá ver la identidad de quién escribe. Sólo el creador de la partida puede dar comienzo a la misma mediante el boton de <b> Empezar el juego </b> .
En caso de querer abandonar la partida presione <b> Salir de la partida </b> .  <br> 

<i> Aclaración: Si el creador de la partida abandona la partida, cualquiera de los jugadores puede dar comienzo. </i>  </p>
<br>
<p> Finalmente, cuando el creador de la partida empieza el juego, a todos los jugadores conectados a la partida se les muestra el tablero listo para jugar. </p> 
<img src = "imagenes/candy.jpg"> 
<p> El objetivo principal del juego es lograr ciertos patrones de colores y tipos de productos en celdas
adyacentes. Dichas configuraciones se consiguen mediante el intercambio de los productos contenidos en
celdas consecutivas. Los intercambios ocurren siempre de a pares de celdas donde el producto de la
primera pasa a la segunda celda y viceversa. Las configuraciones o patrones están asociadas con ciertos
puntajes y consecuencias </p> 
<ul> 
	<li>Tres Buttons del mismo color en línea: 10 puntos por cada uno. Los productos simplemente
	desaparecerán.</li>
	<li>  Cuatro Buttons del mismo color en línea: 20 puntos por cada uno. El producto cuyo movimiento haya producido la configuración será transformado en una MiniBar, orientada en el mismo sentido que los cuatro Buttons. Los otros Buttons desaparecerán. </li>
	<li>Cinco Buttons del mismo color en línea: 30 puntos por cada uno. El producto cuyo movimiento
	haya producido la configuración será transformado en una GoldenStar, mientras que los otros Buttons
	desaparecerán. </li> 
	<li>Más de tres productos del mismo color en línea, no todos Buttons: actuará del mismo modo que
	si se tratara de Buttons, pero activando las MiniBars incluidas. Cada MiniBar destruirá toda la columna
	o fila en la que se encuentre, dependiendo de su orientación.</li>
</ul>

<p>La GoldenStar sólo se activará mediante una acción directa del jugador, intentando intercambiarlo con un
producto adyacente. El resultado de esta acción dependerá de cual sea este producto:</p>

<ul>
	<li>Un Button: eliminación de todos los productos del mismo color.</li>
	<li>Una Minibar: eliminación de todos los productos del mismo color, además de la fila y columna que contengan a la minibar. </li>
	<li>Una GoldenStar: eliminación de todos los productos contenidos en el tablero. </li>
</ul>
<p> En todos estos casos se darán 40 puntos por cada uno de los productos eliminados. La eliminación de productos dejará celdas vacías en el tablero, que serán llenadas mediante la caída de los productos presentes en las celdas superiores. Las celdas situadas “arriba del borde superior” se considerarán rellenas con productos aleatorios (sin considerar si estas combinaciones son estables o no). En caso de producirse una nueva configuración especial, el puntaje que corresponda será
multiplicado por dos. El proceso se repite hasta que se llegue a una configuración estable y, mientras este proceso se repita, los jugadores no podrán realizar acciones.</p>
<p>El juego terminará cuando no haya más acciones posibles (todos pierden) o cuando uno de los jugadores llegue al puntaje especificado (ese jugador pasará de nivel y los otros tendrán que reintentarlo). </p>
<br>
<strong> Servidor </strong>
<p> Procediendo como con el cliente, ejecute <i> candycrash-server [puerto] </i> donde se recomienda que [puerto] sea un numero mayor a 5000. Ejemplo : <b>./candycrasg-server 9000 </b>. Esta aplicación es una aplicación de consola y soporta conexiones multijugador </p>
<div class="nota">
	<p>Dependiendo de donde se instal&oacute; el servidor se puede llegar a nececitar permisos de <i>administrador</i> para correrlo. En el ejemplo de instalaci&oacute;n se eligio la carpeta <i>/usr</i>, entonces el archivo de usuarios estar&aacute; en <i>/usr/share/candycrash/userdata.json</i>, el usuario que ejecute el servidor debe tener permisos para crear archivos en ese directorio y para poder editar ese archivo. De no tenerlos, el comportamiento de la aplicaci&oacute;n es indeterminado.</p>
</div>
<br>
<strong> Editor </strong>
<p>
De la misma forma, para ejecutar el Editor: <i> candycrash-editor </i> lo llevará a la aplicación que se muestra a continuación: </p>
<img src = "imagenes/editor.jpg"> 
<p>
Para crear un nivel satisfactoriamente Ud deberia seguir los siguientes pasos:
<ol>
	<li>Insertar un nombre en el campo <b>Nombre</b>. Tenga en cuenta que el nombre del archivo generado y el nombre del mapa son iguales. </li>
	<li> Seleccionar un puntaje maximo para ganar el nivel. </li>
	<li> Seleccionar la cantidad maxima de jugadores que pueden jugar ese nivel en la casilla <b>Max Jug</b>. </li>
	<li> Seleccionar el nivel del mapa a jugar en la casilla <b>Nivel</b>. </li>
	<li> Seleccionar la cantidad de filas ( X ) y columnas ( Y ).</li>
</ol>
</p>

<p>Para elegir las probabilidades Ud puede hacerlo mediante columnas o seleccionando cada celda en particular y eligiendo valores para cualquiera de los 16 caramelos, la probabilidad insertada para cada celda solo sera para una configuracion inicial dado que el regimen de aparicion durante el juego sera a traves de la probabilidad indicada para cada columna. </p> 
<p>Ud puede elegir una imagen de fondo para el tablero, bajo la pestana <b>Columnas</b> en el selector de archivos indicado por <b>Fondo</b> . Tambien puede elegir una imagen de fondo para cada celda, o si quiere , un hueco para esa celda. Para eso tiene que presionar bajo la pestana <b>Celdas</b> el selector de archivo o el boton <b>Hueco</b> respectivamente.</p>
<p> También puede hacer selección del sonido que se ejecutará cuando se haga un cambio de pieza o cuando haya destrucción de piezas existentes. Para esto busque bajo la pestaña <b> Sonidos </b> y seleccione un sonido.
<br><br>
<p>Aclaración:</p>
<p> Las probabilidades se computaran como numeros y no como porcentajes. Por ejemplo teniendo 13 para el boton rojo, 13 para un bar horizontal verde y 13 para un bar vertical amarillo significa que ambos van a tener la misma probabilidad de aparecer. </p>

<div class="nota">
	<p>Los archivos de imagenes o sonidos que se fueran a utilizar deben ser seleccionados de la carpeta que se abre por defecto cuando uno presiona el boton. Cambiar de carpeta y usar otros archivos inhabilita la portabilidad.</p>
</div>
</article>



<article id="Apéndice_de_errores">
<span class="titulo">4. Apéndice de errores</span>


</article>
<!-- fin de contenido -->

</div><!-- cierre contenedor_general -->

</body>
</html>
